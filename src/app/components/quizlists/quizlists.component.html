<app-navbar [title]="quizlists_title"></app-navbar>

<main class="container">
  <form class="d-flex w-50 mt-5" role="search" (ngSubmit)="searchQuizzes()">

    <div class="input-group me-2">
      <span class="input-group-text" aria-hidden="true"><i class="bi bi-search"></i></span>
      <input class="form-control" type="search" placeholder="Rédiger ici votre recherche"
        aria-label="Rédiger ici votre recherche" [(ngModel)]="searchTerm" name="search">
    </div>
    <button class="btn btn-sm btn-outline-secondary" type="submit" aria-label="Lancer la recherche">recherche</button>
  </form>

  @if (filteredQuizzes.length > 0) {
  @for (quiz of filteredQuizzes; track trackById) {
  <div class="card-list d-flex flex-md-row flex-column justify-content-between align-items-center" aria-label="Carte du quiz">
    <div>
      <h2>N° du quiz : {{quiz.id}}</h2>
      <h3 aria-label="Titre du quiz">{{quiz.title}}</h3>
      <p class="quiz-type">{{quiz.group ? "En équipe" : "En solo"}}</p>
    </div>
    <div class="icons-card-list">
      <button class="btn icons details" routerLink="/questionlist/{{quiz.id}}" aria-label="Voir les détails du quiz">
        <i class="bi bi-eye fs-2" aria-hidden="true"></i><span>Voir le détail</span></button>
      <button class="btn icons play" routerLink="/startgame/{{quiz.id}}" aria-label="Jouer au quiz"> <i class="bi bi-play-circle fs-2"></i>
        <span>Jouer</span></button>
    </div>
  </div>
  }
  }
  <ng-template #noResults>
    <p aria-live="polite">Aucun quiz disponible</p>
  </ng-template>
</main>